import{O as E,bT as y,bH as M,a7 as z,bV as h,ch as T,ce as H,da as k,cg as A,db as _,$ as B,dc as L,a6 as N,cd as u,bG as m,cu as w,bZ as R,bR as S,dd as P,bw as C,ca as $}from"./privy-provider-8kKbowq5-BuyGVQSK.js";function G(e,t){if(e.length!==t.length)throw new E({expectedLength:e.length,givenLength:t.length});const r=[];for(let c=0;c<e.length;c++){const d=e[c],i=t[c];r.push(p(d,i))}return y(r)}function p(e,t,r=!1){if(e==="address"){const n=t;if(!M(n))throw new z({address:n});return h(n.toLowerCase(),{size:r?32:null})}if(e==="string")return T(t);if(e==="bytes")return t;if(e==="bool")return h(H(t),{size:r?32:1});const c=e.match(k);if(c){const[n,s,a="256"]=c,o=Number.parseInt(a,10)/8;return A(t,{size:r?32:o,signed:s==="int"})}const d=e.match(_);if(d){const[n,s]=d;if(Number.parseInt(s,10)!==(t.length-2)/2)throw new B({expectedSize:Number.parseInt(s,10),givenSize:(t.length-2)/2});return h(t,{dir:"right",size:r?32:null})}const i=e.match(L);if(i&&Array.isArray(t)){const[n,s]=i,a=[];for(let o=0;o<t.length;o++)a.push(p(s,t[o],!0));return a.length===0?"0x":y(a)}throw new N(e)}function x(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}function K(e){return U(e)}function U(e){const t=u(m(e.from)),r=h(x(e.salt)?e.salt:u(e.salt),{size:32}),c="bytecodeHash"in e?x(e.bytecodeHash)?e.bytecodeHash:u(e.bytecodeHash):w(e.bytecode,"bytes");return m(R(w(S([u("0xff"),t,r,c])),12))}function O(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function V(e){const{source:t}=e,r=new Map,c=new P(8192),d=new Map,i=({address:n,chainId:s})=>`${n}.${s}`;return{async consume({address:n,chainId:s,client:a}){const o=i({address:n,chainId:s}),f=this.get({address:n,chainId:s,client:a});this.increment({address:n,chainId:s});const g=await f;return await t.set({address:n,chainId:s},g),c.set(o,g),g},async increment({address:n,chainId:s}){const a=i({address:n,chainId:s}),o=r.get(a)??0;r.set(a,o+1)},async get({address:n,chainId:s,client:a}){const o=i({address:n,chainId:s});let f=d.get(o);return f||(f=(async()=>{try{const l=await t.get({address:n,chainId:s,client:a}),b=c.get(o)??0;return b>0&&l<=b?b+1:(c.delete(o),l)}finally{this.reset({address:n,chainId:s})}})(),d.set(o,f)),(r.get(o)??0)+await f},reset({address:n,chainId:s}){const a=i({address:n,chainId:s});r.delete(a),d.delete(a)}}}const Y="0x6492649264926492649264926492649264926492649264926492649264926492";function Z(e){const{address:t,data:r,signature:c,to:d="hex"}=e,i=y([C([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,c]),Y]);return d==="hex"?i:$(i)}export{U as a,V as c,O as d,G as e,K as g,x as i,Z as s};
